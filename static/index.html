<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<style>
			.red { color: #ff0000; }
			.blue{ color: #0000ff; font-weight: : bold; }
		</style>
	</head>
	<body>
		<h1>자소서 재활용 검색 시스템</h1>
		<br>
		<textarea id="Text1" cols="60" rows="10"></textarea>
		<button onclick="loadDoc();">보내기</button>
		<script type="text/javascript"  charset="UTF-8" >

			function loadDoc()
			{
				var xmlHttp = new XMLHttpRequest();

				xmlHttp.onreadystatechange = function()
				{
					if(this.status == 200 && this.readyState == this.DONE)
					{
						alert(unescape(encodeURIComponent(xmlHttp.response)));
						displayData(xmlHttp);
					}
				}

				var xml = '' +
				  '<?xml version="1.0" encoding="UTF-8"?>' +
				  '<jss>'+
				  '<content>'+document.getElementById("Text1").value+'</cotent>'+
				  '</jss>'

				xmlHttp.open("POST", "http://127.0.0.1:10000/jss", true)
				xmlHttp.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
				xmlHttp.setRequestHeader('Content-Type', 'application/xml');
				xmlHttp.setRequestHeader('charset', 'UTF-8');
				xmlHttp.send(xml);
			}

			function displayData(xmlHttp)
			{
				//var xmlObj = xmlHttp.responseXML;
				//alert(xmlObj)
				//var tr = xmlObj.getElementByTagName("tr").value;
				alert(xmlHttp.response)
				document.getElementById("result_table").innerHTML = decodeURIComponent(escape(xmlHttp.response));
			}
		</script>

		<table id = "result_table" >
		</table>
	</body>
</html>